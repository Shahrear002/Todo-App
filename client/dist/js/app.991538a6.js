(function(e){function t(t){for(var o,c,s=t[0],u=t[1],i=t[2],d=0,b=[];d<s.length;d++)c=s[d],Object.prototype.hasOwnProperty.call(r,c)&&r[c]&&b.push(r[c][0]),r[c]=0;for(o in u)Object.prototype.hasOwnProperty.call(u,o)&&(e[o]=u[o]);l&&l(t);while(b.length)b.shift()();return a.push.apply(a,i||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],o=!0,s=1;s<n.length;s++){var u=n[s];0!==r[u]&&(o=!1)}o&&(a.splice(t--,1),e=c(c.s=n[0]))}return e}var o={},r={app:0},a=[];function c(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.m=e,c.c=o,c.d=function(e,t,n){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)c.d(n,o,function(t){return e[t]}.bind(null,o));return n},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],u=s.push.bind(s);s.push=t,s=s.slice();for(var i=0;i<s.length;i++)t(s[i]);var l=u;a.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"11ca":function(e,t,n){},3574:function(e,t,n){},"3dd3":function(e,t,n){},"413c":function(e,t,n){"use strict";n("f269")},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d"),n("f9e3");var o=n("7a23"),r={id:"app"};function a(e,t,n,a,c,s){var u=Object(o["y"])("router-view");return Object(o["r"])(),Object(o["e"])("div",r,[Object(o["h"])(u)])}var c={name:"App"},s=(n("6a8f"),n("6b0d")),u=n.n(s);const i=u()(c,[["render",a]]);var l=i,d=n("bc3a"),b=n.n(d),f=n("5502"),p=n("6c02"),O=function(e){return Object(o["u"])("data-v-15c1ae60"),e=e(),Object(o["s"])(),e},j={class:"container mt-5"},m=O((function(){return Object(o["f"])("input",{type:"submit",value:"Add",class:"btn btn-md btn-primary mx-3"},null,-1)})),g={key:0,class:"alert alert-danger"},v={class:"list-group mt-5"},h=["onClick"],k=["onClick"];function y(e,t,n,r,a,c){var s=Object(o["y"])("app-header");return Object(o["r"])(),Object(o["e"])(o["a"],null,[Object(o["h"])(s),Object(o["f"])("div",j,[Object(o["f"])("form",{class:"d-flex",onSubmit:t[1]||(t[1]=Object(o["G"])((function(){return c.addTodo&&c.addTodo.apply(c,arguments)}),["prevent"])),style:{"padding-bottom":"10px"}},[Object(o["F"])(Object(o["f"])("input",{type:"text",class:"form-control",placeholder:"Enter Todo","onUpdate:modelValue":t[0]||(t[0]=function(e){return a.todo=e})},null,512),[[o["C"],a.todo]]),m],32),a.errors?(Object(o["r"])(),Object(o["e"])("p",g,Object(o["A"])(a.errors),1)):Object(o["d"])("",!0),Object(o["f"])("ul",v,[(Object(o["r"])(!0),Object(o["e"])(o["a"],null,Object(o["x"])(e.todos,(function(e){return Object(o["r"])(),Object(o["e"])("li",{class:Object(o["n"])(["list-group-item hov libasic",{done:e.done}]),key:e.todo},[Object(o["g"])(Object(o["A"])(e.todo)+" ",1),Object(o["f"])("span",null,[0==e.done?(Object(o["r"])(),Object(o["e"])("button",{key:0,class:"btn btn-success btn-small",style:{"margin-right":"3px"},onClick:function(t){return c.updateTodo(e._id)}},"Done",8,h)):Object(o["d"])("",!0),Object(o["f"])("button",{class:"btn btn-danger",onClick:function(t){return c.deleteTodo(e._id)}},"Delete",8,k)])],2)})),128))])])],64)}var w=n("1da1"),T=n("5530"),x=(n("96cf"),n("a15b"),n("fb6a"),n("ac1f"),n("1276"),n("b0c0"),{class:"navbar navbar-expand-lg navbar-light bg-light"}),S={class:"container-fluid"},_={href:"#",id:"logo",class:"navbar-brand"};function A(e,t,n,r,a,c){return Object(o["r"])(),Object(o["e"])("nav",x,[Object(o["f"])("div",S,[Object(o["f"])("a",_,Object(o["A"])(e.user.name.split(" ").slice(0,1).join())+"'s To-Do",1),Object(o["f"])("button",{type:"button",class:"btn btn-danger navbar-btn",onClick:t[0]||(t[0]=function(){return e.logout&&e.logout.apply(e,arguments)})},"Logout")])])}var U={computed:Object(T["a"])({},Object(f["e"])({user:"user"})),methods:Object(T["a"])({},Object(f["b"])(["logout"]))};n("8344");const P=u()(U,[["render",A],["__scopeId","data-v-b7631b16"]]);var C=P,R={components:{appHeader:C},data:function(){return{todo:null,errors:null}},computed:Object(T["a"])(Object(T["a"])(Object(T["a"])({},Object(f["c"])(["getToken","getUser"])),Object(f["b"])(["autoLogout","logout"])),Object(f["e"])({todos:"todos"})),methods:{addTodo:function(){var e=this;return Object(w["a"])(regeneratorRuntime.mark((function t(){var n,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,n=e.$store.getters.getToken,t.next=4,b.a.post("/todo/add-todo",{todo:e.todo},{headers:{Authorization:"".concat(n)}});case 4:o=t.sent,e.todos=o.data,window.location.reload(),t.next=13;break;case 9:t.prev=9,t.t0=t["catch"](0),e.errors=t.t0.response.data,console.log(e.errors);case 13:case"end":return t.stop()}}),t,null,[[0,9]])})))()},updateTodo:function(e){var t=this;return Object(w["a"])(regeneratorRuntime.mark((function n(){var o,r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,o=t.$store.getters.getToken,n.next=4,b.a.put("/todo/update-todo/"+e,{},{headers:{Authorization:"".concat(o)}});case 4:r=n.sent,t.todos=r.data,window.location.reload(),n.next=13;break;case 9:n.prev=9,n.t0=n["catch"](0),t.errors=n.t0.response.data,console.log(t.errors);case 13:case"end":return n.stop()}}),n,null,[[0,9]])})))()},deleteTodo:function(e){var t=this;return Object(w["a"])(regeneratorRuntime.mark((function n(){var o,r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,o=t.$store.getters.getToken,n.next=4,b.a.delete("/todo/delete-todo/"+e,{headers:{Authorization:"".concat(o)}});case 4:r=n.sent,t.todos=r.data,window.location.reload(),n.next=13;break;case 9:n.prev=9,n.t0=n["catch"](0),t.errors=n.t0.response.data,console.log(t.errors);case 13:case"end":return n.stop()}}),n,null,[[0,9]])})))()}},beforeCreate:function(){var e=this,t=this.$store.getters.getToken;b.a.get("/todo/",{headers:{Authorization:"".concat(t)}}).then((function(t){e.$store.state.todos=t.data})).catch((function(e){return console.log(e)}))}};n("67c5");const I=u()(R,[["render",y],["__scopeId","data-v-15c1ae60"]]);var D=I,$=function(e){return Object(o["u"])("data-v-7e49c6ea"),e=e(),Object(o["s"])(),e},F={id:"home"},L=$((function(){return Object(o["f"])("h1",null,"Welcome To To-Do-App",-1)})),V=$((function(){return Object(o["f"])("p",null,"You can manage all your todos here and you are one sing in away from it!",-1)})),E={class:"hom"},M=Object(o["g"])("Sign Up"),z=Object(o["g"])("Sign In");function G(e,t){var n=Object(o["y"])("router-link");return Object(o["r"])(),Object(o["e"])("div",F,[L,V,Object(o["f"])("div",E,[Object(o["h"])(n,{to:"/signup"},{default:Object(o["E"])((function(){return[M]})),_:1}),Object(o["h"])(n,{to:"/signin"},{default:Object(o["E"])((function(){return[z]})),_:1})])])}n("c423");const J={},H=u()(J,[["render",G],["__scopeId","data-v-7e49c6ea"]]);var N=H,W=function(e){return Object(o["u"])("data-v-46221873"),e=e(),Object(o["s"])(),e},Y={id:"signup"},q={class:"signup-form"},B=W((function(){return Object(o["f"])("h1",null,"To-Do App",-1)})),K={class:"input"},Q=W((function(){return Object(o["f"])("label",{for:"name"},"Name",-1)})),X={key:0,class:"alert alert-danger"},Z={class:"input"},ee=W((function(){return Object(o["f"])("label",{for:"email"},"Mail",-1)})),te={key:0,class:"alert alert-danger"},ne={class:"input"},oe=W((function(){return Object(o["f"])("label",{for:"password"},"Password",-1)})),re={key:0,class:"alert alert-danger"},ae=W((function(){return Object(o["f"])("div",{class:"submit"},[Object(o["f"])("button",{type:"submit"},"Submit")],-1)})),ce=W((function(){return Object(o["f"])("p",{style:{"text-align":"center","padding-top":"10px"}},[Object(o["g"])("Already have an account ? "),Object(o["f"])("a",{href:"/signin"},"Login")],-1)}));function se(e,t,n,r,a,c){return Object(o["r"])(),Object(o["e"])("div",Y,[Object(o["f"])("div",q,[B,Object(o["f"])("form",{onSubmit:t[3]||(t[3]=Object(o["G"])((function(){return c.onSubmit&&c.onSubmit.apply(c,arguments)}),["prevent"]))},[Object(o["f"])("div",K,[Q,a.errors.name?(Object(o["r"])(),Object(o["e"])("p",X,Object(o["A"])(a.errors.name),1)):Object(o["d"])("",!0),Object(o["F"])(Object(o["f"])("input",{type:"text",id:"name","onUpdate:modelValue":t[0]||(t[0]=function(e){return a.name=e})},null,512),[[o["C"],a.name]])]),Object(o["f"])("div",Z,[ee,a.errors.email?(Object(o["r"])(),Object(o["e"])("p",te,Object(o["A"])(a.errors.email),1)):Object(o["d"])("",!0),Object(o["F"])(Object(o["f"])("input",{type:"email",id:"email","onUpdate:modelValue":t[1]||(t[1]=function(e){return a.email=e})},null,512),[[o["C"],a.email]])]),Object(o["f"])("div",ne,[oe,a.errors.password?(Object(o["r"])(),Object(o["e"])("p",re,Object(o["A"])(a.errors.password),1)):Object(o["d"])("",!0),Object(o["F"])(Object(o["f"])("input",{type:"password",id:"password","onUpdate:modelValue":t[2]||(t[2]=function(e){return a.password=e})},null,512),[[o["C"],a.password]])]),ae],32),ce])])}var ue={data:function(){return{name:"",email:"",password:"",errors:{}}},methods:{onSubmit:function(){var e=this,t={name:this.name,email:this.email,password:this.password};console.log(t),b.a.post("/users/register",t).then((function(e){return console.log(e)})).catch((function(t){e.errors=t.response.data,console.log(t.response.data)}))}}};n("413c");const ie=u()(ue,[["render",se],["__scopeId","data-v-46221873"]]);var le=ie,de=function(e){return Object(o["u"])("data-v-2869cdcc"),e=e(),Object(o["s"])(),e},be={id:"signin"},fe={class:"signin-form"},pe=de((function(){return Object(o["f"])("h1",{style:{"text-align":"center"}},"To-Do App",-1)})),Oe={class:"input"},je=de((function(){return Object(o["f"])("label",{for:"email"},"Email",-1)})),me={key:0,class:"alert alert-danger"},ge={class:"input"},ve=de((function(){return Object(o["f"])("label",{for:"password"},"Password",-1)})),he={key:0,class:"alert alert-danger"},ke=de((function(){return Object(o["f"])("div",{class:"submit"},[Object(o["f"])("button",{type:"submit"},"Submit")],-1)})),ye=de((function(){return Object(o["f"])("p",{style:{"text-align":"center","padding-top":"10px"}},[Object(o["g"])("Don't have an account ? "),Object(o["f"])("a",{href:"/signup"},"Register")],-1)}));function we(e,t,n,r,a,c){return Object(o["r"])(),Object(o["e"])("div",be,[Object(o["f"])("div",fe,[pe,Object(o["f"])("form",{onSubmit:t[2]||(t[2]=Object(o["G"])((function(){return c.onSubmit&&c.onSubmit.apply(c,arguments)}),["prevent"]))},[Object(o["f"])("div",Oe,[je,a.errors.email?(Object(o["r"])(),Object(o["e"])("p",me,Object(o["A"])(a.errors.email),1)):Object(o["d"])("",!0),Object(o["F"])(Object(o["f"])("input",{type:"email",id:"email","onUpdate:modelValue":t[0]||(t[0]=function(e){return a.email=e})},null,512),[[o["C"],a.email]])]),Object(o["f"])("div",ge,[ve,a.errors.password?(Object(o["r"])(),Object(o["e"])("p",he,Object(o["A"])(a.errors.password),1)):Object(o["d"])("",!0),Object(o["F"])(Object(o["f"])("input",{type:"password",id:"password","onUpdate:modelValue":t[1]||(t[1]=function(e){return a.password=e})},null,512),[[o["C"],a.password]])]),ke],32),ye])])}var Te={data:function(){return{email:"",password:"",user:null,errors:{}}},methods:Object(T["a"])(Object(T["a"])({},Object(f["d"])(["setUser","setToken"])),{},{onSubmit:function(){var e=this;return Object(w["a"])(regeneratorRuntime.mark((function t(){var n,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n={email:e.email,password:e.password},t.prev=1,t.next=4,b.a.post("/users/login",n);case 4:o=t.sent,e.user=o.data.user,localStorage.setItem("token",o.data.token),e.setUser(o.data.user),e.setToken(o.data.token),e.$store.dispatch("autoLogout"),e.$router.push("/"),t.next=17;break;case 13:t.prev=13,t.t0=t["catch"](1),e.errors=t.t0.response.data,console.log(e.errors);case 17:case"end":return t.stop()}}),t,null,[[1,13]])})))()}})};n("5e33");const xe=u()(Te,[["render",we],["__scopeId","data-v-2869cdcc"]]);var Se=xe,_e=[{path:"/landing",component:N},{path:"/",component:D},{path:"/signup",component:le},{path:"/signin",component:Se},{path:"/:catchAll(.*)",redirect:"landing"}],Ae=Object(p["a"])({history:Object(p["b"])(),routes:_e});Ae.beforeEach((function(e,t,n){Re.dispatch("fetchToken"),"/"===e.fullPath&&(Re.state.token||n("/landing")),"/signin"!==e.fullPath&&"/signup"!==e.fullPath&&"/landing"!==e.fullPath||Re.state.token&&n("/"),n()}));var Ue=Ae,Pe=n("0e44"),Ce=Object(f["a"])({state:{user:null,token:null,todos:null},plugins:[Object(Pe["a"])({paths:["user","token","todos","errors"]})],getters:{getUser:function(e){return e.user},getToken:function(e){return e.token},getTodos:function(e){return e.todos}},mutations:{setUser:function(e,t){e.user=t},setToken:function(e,t){e.token=t},updateToken:function(e,t){e.token=t},setTodos:function(e,t){e.todos=t},logout:function(e){localStorage.removeItem("token"),e.token=null,Ue.push("/signin")}},actions:{setUser:function(e,t){var n=e.commit;n("setUser",t)},setToken:function(e,t){var n=e.commit;n("setToken",t)},fetchToken:function(e){var t=e.commit;t("updateToken",localStorage.getItem("token"))},logout:function(e){var t=e.commit;t("logout")},autoLogout:function(e){var t=e.commit;console.log("auto logout initiated"),setTimeout((function(){console.log("auto logged out"),t("logout")}),12e5)}}}),Re=Ce;n("4989");b.a.defaults.baseURL="http://localhost:3000";var Ie=Object(o["c"])(l);Ie.use(Ue),Ie.use(Re),Ie.mount("#app")},"5e33":function(e,t,n){"use strict";n("3574")},"67c5":function(e,t,n){"use strict";n("3dd3")},"6a8f":function(e,t,n){"use strict";n("7f7c")},"7f7c":function(e,t,n){},8344:function(e,t,n){"use strict";n("89ed")},"89ed":function(e,t,n){},c423:function(e,t,n){"use strict";n("11ca")},f269:function(e,t,n){}});
//# sourceMappingURL=app.991538a6.js.map