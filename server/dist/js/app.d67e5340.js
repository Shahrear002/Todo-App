(function(e){function t(t){for(var r,c,s=t[0],u=t[1],i=t[2],d=0,b=[];d<s.length;d++)c=s[d],Object.prototype.hasOwnProperty.call(o,c)&&o[c]&&b.push(o[c][0]),o[c]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(e[r]=u[r]);l&&l(t);while(b.length)b.shift()();return a.push.apply(a,i||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],r=!0,s=1;s<n.length;s++){var u=n[s];0!==o[u]&&(r=!1)}r&&(a.splice(t--,1),e=c(c.s=n[0]))}return e}var r={},o={app:0},a=[];function c(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.m=e,c.c=r,c.d=function(e,t,n){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)c.d(n,r,function(t){return e[t]}.bind(null,r));return n},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],u=s.push.bind(s);s.push=t,s=s.slice();for(var i=0;i<s.length;i++)t(s[i]);var l=u;a.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"11ca":function(e,t,n){},3574:function(e,t,n){},"3c0b":function(e,t,n){},"3dd3":function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d"),n("f9e3");var r=n("7a23"),o=n("ed18"),a=n.n(o),c={id:"app"};function s(e,t,n,o,a,s){var u=Object(r["y"])("router-view");return Object(r["r"])(),Object(r["e"])("div",c,[Object(r["h"])(u)])}var u={name:"App"},i=(n("6a8f"),n("6b0d")),l=n.n(i);const d=l()(u,[["render",s]]);var b=d,p=n("bc3a"),f=n.n(p),O=n("5502"),j=n("6c02"),m=function(e){return Object(r["u"])("data-v-15c1ae60"),e=e(),Object(r["s"])(),e},g={class:"container mt-5"},v=m((function(){return Object(r["f"])("input",{type:"submit",value:"Add",class:"btn btn-md btn-primary mx-3"},null,-1)})),h={key:0,class:"alert alert-danger"},k={class:"list-group mt-5"},w=["onClick"],y=["onClick"];function _(e,t,n,o,a,c){var s=Object(r["y"])("app-header");return Object(r["r"])(),Object(r["e"])(r["a"],null,[Object(r["h"])(s),Object(r["f"])("div",g,[Object(r["f"])("form",{class:"d-flex",onSubmit:t[1]||(t[1]=Object(r["G"])((function(){return c.addTodo&&c.addTodo.apply(c,arguments)}),["prevent"])),style:{"padding-bottom":"10px"}},[Object(r["F"])(Object(r["f"])("input",{type:"text",class:"form-control",placeholder:"Enter Todo","onUpdate:modelValue":t[0]||(t[0]=function(e){return a.todo=e})},null,512),[[r["C"],a.todo]]),v],32),a.errors?(Object(r["r"])(),Object(r["e"])("p",h,Object(r["A"])(a.errors),1)):Object(r["d"])("",!0),Object(r["f"])("ul",k,[(Object(r["r"])(!0),Object(r["e"])(r["a"],null,Object(r["x"])(e.todos,(function(e){return Object(r["r"])(),Object(r["e"])("li",{class:Object(r["n"])(["list-group-item hov libasic",{done:e.done}]),key:e.todo},[Object(r["g"])(Object(r["A"])(e.todo)+" ",1),Object(r["f"])("span",null,[0==e.done?(Object(r["r"])(),Object(r["e"])("button",{key:0,class:"btn btn-success btn-small",style:{"margin-right":"3px"},onClick:function(t){return c.updateTodo(e._id)}},"Done",8,w)):Object(r["d"])("",!0),Object(r["f"])("button",{class:"btn btn-danger",onClick:function(t){return c.deleteTodo(e._id)}},"Delete",8,y)])],2)})),128))])])],64)}var x=n("1da1"),T=n("5530"),A=(n("96cf"),n("a15b"),n("fb6a"),n("ac1f"),n("1276"),n("b0c0"),{class:"navbar navbar-expand-lg navbar-light bg-light"}),S={class:"container-fluid"},U={href:"#",id:"logo",class:"navbar-brand"};function P(e,t,n,o,a,c){return Object(r["r"])(),Object(r["e"])("nav",A,[Object(r["f"])("div",S,[Object(r["f"])("a",U,Object(r["A"])(e.user.name.split(" ").slice(0,1).join())+"'s To-Do",1),Object(r["f"])("button",{type:"button",class:"btn btn-danger navbar-btn",onClick:t[0]||(t[0]=function(){return e.logout&&e.logout.apply(e,arguments)})},"Logout")])])}var R={computed:Object(T["a"])({},Object(O["e"])({user:"user"})),methods:Object(T["a"])({},Object(O["b"])(["logout"]))};n("8344");const E=l()(R,[["render",P],["__scopeId","data-v-b7631b16"]]);var C=E,L={components:{appHeader:C},data:function(){return{todo:null,errors:null}},computed:Object(T["a"])(Object(T["a"])(Object(T["a"])({},Object(O["c"])(["getToken","getUser"])),Object(O["b"])(["autoLogout","logout"])),Object(O["e"])({todos:"todos"})),methods:{addTodo:function(){var e=this;return Object(x["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,n=e.$store.getters.getToken,t.next=4,f.a.post("/todo/add-todo",{todo:e.todo},{headers:{Authorization:"".concat(n)}});case 4:r=t.sent,e.todos=r.data,window.location.reload(),t.next=13;break;case 9:t.prev=9,t.t0=t["catch"](0),e.errors=t.t0.response.data,console.log(e.errors);case 13:case"end":return t.stop()}}),t,null,[[0,9]])})))()},updateTodo:function(e){var t=this;return Object(x["a"])(regeneratorRuntime.mark((function n(){var r,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,r=t.$store.getters.getToken,n.next=4,f.a.put("/todo/update-todo/"+e,{},{headers:{Authorization:"".concat(r)}});case 4:o=n.sent,t.todos=o.data,window.location.reload(),n.next=13;break;case 9:n.prev=9,n.t0=n["catch"](0),t.errors=n.t0.response.data,console.log(t.errors);case 13:case"end":return n.stop()}}),n,null,[[0,9]])})))()},deleteTodo:function(e){var t=this;return Object(x["a"])(regeneratorRuntime.mark((function n(){var r,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,r=t.$store.getters.getToken,n.next=4,f.a.delete("/todo/delete-todo/"+e,{headers:{Authorization:"".concat(r)}});case 4:o=n.sent,t.todos=o.data,window.location.reload(),n.next=13;break;case 9:n.prev=9,n.t0=n["catch"](0),t.errors=n.t0.response.data,console.log(t.errors);case 13:case"end":return n.stop()}}),n,null,[[0,9]])})))()}},beforeCreate:function(){var e=this,t=this.$store.getters.getToken;f.a.get("/todo/",{headers:{Authorization:"".concat(t)}}).then((function(t){e.$store.state.todos=t.data})).catch((function(e){return console.log(e)}))}};n("67c5");const V=l()(L,[["render",_],["__scopeId","data-v-15c1ae60"]]);var I=V,D=function(e){return Object(r["u"])("data-v-7e49c6ea"),e=e(),Object(r["s"])(),e},$={id:"home"},F=D((function(){return Object(r["f"])("h1",null,"Welcome To To-Do-App",-1)})),M=D((function(){return Object(r["f"])("p",null,"You can manage all your todos here and you are one sing in away from it!",-1)})),N={class:"hom"},z=Object(r["g"])("Sign Up"),B=Object(r["g"])("Sign In");function G(e,t){var n=Object(r["y"])("router-link");return Object(r["r"])(),Object(r["e"])("div",$,[F,M,Object(r["f"])("div",N,[Object(r["h"])(n,{to:"/signup"},{default:Object(r["E"])((function(){return[z]})),_:1}),Object(r["h"])(n,{to:"/signin"},{default:Object(r["E"])((function(){return[B]})),_:1})])])}n("c423");const J={},H=l()(J,[["render",G],["__scopeId","data-v-7e49c6ea"]]);var W=H,Y=function(e){return Object(r["u"])("data-v-44e472e8"),e=e(),Object(r["s"])(),e},q={id:"signup"},K={class:"signup-form"},Q=Y((function(){return Object(r["f"])("h1",null,"To-Do App",-1)})),X={class:"input"},Z=Y((function(){return Object(r["f"])("label",{for:"name"},"Name",-1)})),ee={key:0,class:"alert alert-danger"},te={class:"input"},ne=Y((function(){return Object(r["f"])("label",{for:"email"},"Mail",-1)})),re={key:0,class:"alert alert-danger"},oe={class:"input"},ae=Y((function(){return Object(r["f"])("label",{for:"password"},"Password",-1)})),ce={key:0,class:"alert alert-danger"},se=Y((function(){return Object(r["f"])("div",{class:"submit"},[Object(r["f"])("button",{type:"submit"},"Submit")],-1)})),ue=Y((function(){return Object(r["f"])("p",{style:{"text-align":"center","padding-top":"10px"}},[Object(r["g"])("Already have an account ? "),Object(r["f"])("a",{href:"/signin"},"Login")],-1)}));function ie(e,t,n,o,a,c){return Object(r["r"])(),Object(r["e"])("div",q,[Object(r["f"])("div",K,[Q,Object(r["f"])("form",{onSubmit:t[3]||(t[3]=Object(r["G"])((function(){return c.onSubmit&&c.onSubmit.apply(c,arguments)}),["prevent"]))},[Object(r["f"])("div",X,[Z,a.errors.name?(Object(r["r"])(),Object(r["e"])("p",ee,Object(r["A"])(a.errors.name),1)):Object(r["d"])("",!0),Object(r["F"])(Object(r["f"])("input",{type:"text",id:"name","onUpdate:modelValue":t[0]||(t[0]=function(e){return a.name=e})},null,512),[[r["C"],a.name]])]),Object(r["f"])("div",te,[ne,a.errors.email?(Object(r["r"])(),Object(r["e"])("p",re,Object(r["A"])(a.errors.email),1)):Object(r["d"])("",!0),Object(r["F"])(Object(r["f"])("input",{type:"email",id:"email","onUpdate:modelValue":t[1]||(t[1]=function(e){return a.email=e})},null,512),[[r["C"],a.email]])]),Object(r["f"])("div",oe,[ae,a.errors.password?(Object(r["r"])(),Object(r["e"])("p",ce,Object(r["A"])(a.errors.password),1)):Object(r["d"])("",!0),Object(r["F"])(Object(r["f"])("input",{type:"password",id:"password","onUpdate:modelValue":t[2]||(t[2]=function(e){return a.password=e})},null,512),[[r["C"],a.password]])]),se],32),ue])])}var le={data:function(){return{name:"",email:"",password:"",errors:{}}},methods:{onSubmit:function(){var e=this;return Object(x["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n={name:e.name,email:e.email,password:e.password},t.prev=1,console.log(Object({NODE_ENV:"production",VUE_APP_API_URL:"http://localhost:3000",BASE_URL:"/"}).VUE_APP_BASE_URL),t.next=5,f.a.post("/users/register",n);case 5:e.$router.push("/signin"),t.next=12;break;case 8:t.prev=8,t.t0=t["catch"](1),e.errors=t.t0.response.data,console.log(t.t0.response.data);case 12:case"end":return t.stop()}}),t,null,[[1,8]])})))()}}};n("8c13");const de=l()(le,[["render",ie],["__scopeId","data-v-44e472e8"]]);var be=de,pe=function(e){return Object(r["u"])("data-v-2869cdcc"),e=e(),Object(r["s"])(),e},fe={id:"signin"},Oe={class:"signin-form"},je=pe((function(){return Object(r["f"])("h1",{style:{"text-align":"center"}},"To-Do App",-1)})),me={class:"input"},ge=pe((function(){return Object(r["f"])("label",{for:"email"},"Email",-1)})),ve={key:0,class:"alert alert-danger"},he={class:"input"},ke=pe((function(){return Object(r["f"])("label",{for:"password"},"Password",-1)})),we={key:0,class:"alert alert-danger"},ye=pe((function(){return Object(r["f"])("div",{class:"submit"},[Object(r["f"])("button",{type:"submit"},"Submit")],-1)})),_e=pe((function(){return Object(r["f"])("p",{style:{"text-align":"center","padding-top":"10px"}},[Object(r["g"])("Don't have an account ? "),Object(r["f"])("a",{href:"/signup"},"Register")],-1)}));function xe(e,t,n,o,a,c){return Object(r["r"])(),Object(r["e"])("div",fe,[Object(r["f"])("div",Oe,[je,Object(r["f"])("form",{onSubmit:t[2]||(t[2]=Object(r["G"])((function(){return c.onSubmit&&c.onSubmit.apply(c,arguments)}),["prevent"]))},[Object(r["f"])("div",me,[ge,a.errors.email?(Object(r["r"])(),Object(r["e"])("p",ve,Object(r["A"])(a.errors.email),1)):Object(r["d"])("",!0),Object(r["F"])(Object(r["f"])("input",{type:"email",id:"email","onUpdate:modelValue":t[0]||(t[0]=function(e){return a.email=e})},null,512),[[r["C"],a.email]])]),Object(r["f"])("div",he,[ke,a.errors.password?(Object(r["r"])(),Object(r["e"])("p",we,Object(r["A"])(a.errors.password),1)):Object(r["d"])("",!0),Object(r["F"])(Object(r["f"])("input",{type:"password",id:"password","onUpdate:modelValue":t[1]||(t[1]=function(e){return a.password=e})},null,512),[[r["C"],a.password]])]),ye],32),_e])])}var Te={data:function(){return{email:"",password:"",user:null,errors:{}}},methods:Object(T["a"])(Object(T["a"])({},Object(O["d"])(["setUser","setToken"])),{},{onSubmit:function(){var e=this;return Object(x["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n={email:e.email,password:e.password},t.prev=1,t.next=4,f.a.post("/users/login",n);case 4:r=t.sent,e.user=r.data.user,localStorage.setItem("token",r.data.token),e.setUser(r.data.user),e.setToken(r.data.token),e.$store.dispatch("autoLogout"),e.$router.push("/"),t.next=17;break;case 13:t.prev=13,t.t0=t["catch"](1),e.errors=t.t0.response.data,console.log(e.errors);case 17:case"end":return t.stop()}}),t,null,[[1,13]])})))()}})};n("5e33");const Ae=l()(Te,[["render",xe],["__scopeId","data-v-2869cdcc"]]);var Se=Ae,Ue=[{path:"/landing",component:W},{path:"/",component:I},{path:"/signup",component:be},{path:"/signin",component:Se},{path:"/:catchAll(.*)",redirect:"landing"}],Pe=Object(j["a"])({history:Object(j["b"])(),routes:Ue});Pe.beforeEach((function(e,t,n){Le.dispatch("fetchToken"),"/"===e.fullPath&&(Le.state.token||n("/landing")),"/signin"!==e.fullPath&&"/signup"!==e.fullPath&&"/landing"!==e.fullPath||Le.state.token&&n("/"),n()}));var Re=Pe,Ee=n("0e44"),Ce=Object(O["a"])({state:{user:null,token:null,todos:null},plugins:[Object(Ee["a"])({paths:["user","token","todos","errors"]})],getters:{getUser:function(e){return e.user},getToken:function(e){return e.token},getTodos:function(e){return e.todos}},mutations:{setUser:function(e,t){e.user=t},setToken:function(e,t){e.token=t},updateToken:function(e,t){e.token=t},setTodos:function(e,t){e.todos=t},logout:function(e){localStorage.removeItem("token"),e.token=null,Re.push("/signin")}},actions:{setUser:function(e,t){var n=e.commit;n("setUser",t)},setToken:function(e,t){var n=e.commit;n("setToken",t)},fetchToken:function(e){var t=e.commit;t("updateToken",localStorage.getItem("token"))},logout:function(e){var t=e.commit;t("logout")},autoLogout:function(e){var t=e.commit;console.log("auto logout initiated"),setTimeout((function(){console.log("auto logged out"),t("logout")}),12e5)}}}),Le=Ce;n("4989");a.a.config(),f.a.defaults.baseURL=Object({NODE_ENV:"production",VUE_APP_API_URL:"http://localhost:3000",BASE_URL:"/"}).VUE_APP_BASE_URL||"/";var Ve=Object(r["c"])(b);Ve.use(Re),Ve.use(Le),Ve.mount("#app")},"5e33":function(e,t,n){"use strict";n("3574")},"67c5":function(e,t,n){"use strict";n("3dd3")},"6a8f":function(e,t,n){"use strict";n("7f7c")},"7f7c":function(e,t,n){},8344:function(e,t,n){"use strict";n("89ed")},"89ed":function(e,t,n){},"8c13":function(e,t,n){"use strict";n("3c0b")},c423:function(e,t,n){"use strict";n("11ca")}});
//# sourceMappingURL=app.d67e5340.js.map