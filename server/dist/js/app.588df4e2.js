(function(e){function t(t){for(var o,c,s=t[0],u=t[1],i=t[2],d=0,b=[];d<s.length;d++)c=s[d],Object.prototype.hasOwnProperty.call(r,c)&&r[c]&&b.push(r[c][0]),r[c]=0;for(o in u)Object.prototype.hasOwnProperty.call(u,o)&&(e[o]=u[o]);l&&l(t);while(b.length)b.shift()();return a.push.apply(a,i||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],o=!0,s=1;s<n.length;s++){var u=n[s];0!==r[u]&&(o=!1)}o&&(a.splice(t--,1),e=c(c.s=n[0]))}return e}var o={},r={app:0},a=[];function c(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.m=e,c.c=o,c.d=function(e,t,n){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)c.d(n,o,function(t){return e[t]}.bind(null,o));return n},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],u=s.push.bind(s);s.push=t,s=s.slice();for(var i=0;i<s.length;i++)t(s[i]);var l=u;a.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"11ca":function(e,t,n){},3574:function(e,t,n){},"3dd3":function(e,t,n){},"413c":function(e,t,n){"use strict";n("f269")},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d"),n("f9e3");var o=n("7a23"),r=n("ed18"),a=n.n(r),c={id:"app"};function s(e,t,n,r,a,s){var u=Object(o["y"])("router-view");return Object(o["r"])(),Object(o["e"])("div",c,[Object(o["h"])(u)])}var u={name:"App"},i=(n("6a8f"),n("6b0d")),l=n.n(i);const d=l()(u,[["render",s]]);var b=d,f=n("bc3a"),p=n.n(f),O=n("5502"),j=n("6c02"),m=function(e){return Object(o["u"])("data-v-15c1ae60"),e=e(),Object(o["s"])(),e},g={class:"container mt-5"},v=m((function(){return Object(o["f"])("input",{type:"submit",value:"Add",class:"btn btn-md btn-primary mx-3"},null,-1)})),h={key:0,class:"alert alert-danger"},k={class:"list-group mt-5"},y=["onClick"],w=["onClick"];function T(e,t,n,r,a,c){var s=Object(o["y"])("app-header");return Object(o["r"])(),Object(o["e"])(o["a"],null,[Object(o["h"])(s),Object(o["f"])("div",g,[Object(o["f"])("form",{class:"d-flex",onSubmit:t[1]||(t[1]=Object(o["G"])((function(){return c.addTodo&&c.addTodo.apply(c,arguments)}),["prevent"])),style:{"padding-bottom":"10px"}},[Object(o["F"])(Object(o["f"])("input",{type:"text",class:"form-control",placeholder:"Enter Todo","onUpdate:modelValue":t[0]||(t[0]=function(e){return a.todo=e})},null,512),[[o["C"],a.todo]]),v],32),a.errors?(Object(o["r"])(),Object(o["e"])("p",h,Object(o["A"])(a.errors),1)):Object(o["d"])("",!0),Object(o["f"])("ul",k,[(Object(o["r"])(!0),Object(o["e"])(o["a"],null,Object(o["x"])(e.todos,(function(e){return Object(o["r"])(),Object(o["e"])("li",{class:Object(o["n"])(["list-group-item hov libasic",{done:e.done}]),key:e.todo},[Object(o["g"])(Object(o["A"])(e.todo)+" ",1),Object(o["f"])("span",null,[0==e.done?(Object(o["r"])(),Object(o["e"])("button",{key:0,class:"btn btn-success btn-small",style:{"margin-right":"3px"},onClick:function(t){return c.updateTodo(e._id)}},"Done",8,y)):Object(o["d"])("",!0),Object(o["f"])("button",{class:"btn btn-danger",onClick:function(t){return c.deleteTodo(e._id)}},"Delete",8,w)])],2)})),128))])])],64)}var x=n("1da1"),S=n("5530"),_=(n("96cf"),n("a15b"),n("fb6a"),n("ac1f"),n("1276"),n("b0c0"),{class:"navbar navbar-expand-lg navbar-light bg-light"}),A={class:"container-fluid"},U={href:"#",id:"logo",class:"navbar-brand"};function P(e,t,n,r,a,c){return Object(o["r"])(),Object(o["e"])("nav",_,[Object(o["f"])("div",A,[Object(o["f"])("a",U,Object(o["A"])(e.user.name.split(" ").slice(0,1).join())+"'s To-Do",1),Object(o["f"])("button",{type:"button",class:"btn btn-danger navbar-btn",onClick:t[0]||(t[0]=function(){return e.logout&&e.logout.apply(e,arguments)})},"Logout")])])}var C={computed:Object(S["a"])({},Object(O["e"])({user:"user"})),methods:Object(S["a"])({},Object(O["b"])(["logout"]))};n("8344");const R=l()(C,[["render",P],["__scopeId","data-v-b7631b16"]]);var I=R,D={components:{appHeader:I},data:function(){return{todo:null,errors:null}},computed:Object(S["a"])(Object(S["a"])(Object(S["a"])({},Object(O["c"])(["getToken","getUser"])),Object(O["b"])(["autoLogout","logout"])),Object(O["e"])({todos:"todos"})),methods:{addTodo:function(){var e=this;return Object(x["a"])(regeneratorRuntime.mark((function t(){var n,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,n=e.$store.getters.getToken,t.next=4,p.a.post("/todo/add-todo",{todo:e.todo},{headers:{Authorization:"".concat(n)}});case 4:o=t.sent,e.todos=o.data,window.location.reload(),t.next=13;break;case 9:t.prev=9,t.t0=t["catch"](0),e.errors=t.t0.response.data,console.log(e.errors);case 13:case"end":return t.stop()}}),t,null,[[0,9]])})))()},updateTodo:function(e){var t=this;return Object(x["a"])(regeneratorRuntime.mark((function n(){var o,r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,o=t.$store.getters.getToken,n.next=4,p.a.put("/todo/update-todo/"+e,{},{headers:{Authorization:"".concat(o)}});case 4:r=n.sent,t.todos=r.data,window.location.reload(),n.next=13;break;case 9:n.prev=9,n.t0=n["catch"](0),t.errors=n.t0.response.data,console.log(t.errors);case 13:case"end":return n.stop()}}),n,null,[[0,9]])})))()},deleteTodo:function(e){var t=this;return Object(x["a"])(regeneratorRuntime.mark((function n(){var o,r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,o=t.$store.getters.getToken,n.next=4,p.a.delete("/todo/delete-todo/"+e,{headers:{Authorization:"".concat(o)}});case 4:r=n.sent,t.todos=r.data,window.location.reload(),n.next=13;break;case 9:n.prev=9,n.t0=n["catch"](0),t.errors=n.t0.response.data,console.log(t.errors);case 13:case"end":return n.stop()}}),n,null,[[0,9]])})))()}},beforeCreate:function(){var e=this,t=this.$store.getters.getToken;p.a.get("/todo/",{headers:{Authorization:"".concat(t)}}).then((function(t){e.$store.state.todos=t.data})).catch((function(e){return console.log(e)}))}};n("67c5");const $=l()(D,[["render",T],["__scopeId","data-v-15c1ae60"]]);var F=$,L=function(e){return Object(o["u"])("data-v-7e49c6ea"),e=e(),Object(o["s"])(),e},V={id:"home"},E=L((function(){return Object(o["f"])("h1",null,"Welcome To To-Do-App",-1)})),M=L((function(){return Object(o["f"])("p",null,"You can manage all your todos here and you are one sing in away from it!",-1)})),z={class:"hom"},G=Object(o["g"])("Sign Up"),J=Object(o["g"])("Sign In");function H(e,t){var n=Object(o["y"])("router-link");return Object(o["r"])(),Object(o["e"])("div",V,[E,M,Object(o["f"])("div",z,[Object(o["h"])(n,{to:"/signup"},{default:Object(o["E"])((function(){return[G]})),_:1}),Object(o["h"])(n,{to:"/signin"},{default:Object(o["E"])((function(){return[J]})),_:1})])])}n("c423");const N={},W=l()(N,[["render",H],["__scopeId","data-v-7e49c6ea"]]);var Y=W,q=function(e){return Object(o["u"])("data-v-46221873"),e=e(),Object(o["s"])(),e},B={id:"signup"},K={class:"signup-form"},Q=q((function(){return Object(o["f"])("h1",null,"To-Do App",-1)})),X={class:"input"},Z=q((function(){return Object(o["f"])("label",{for:"name"},"Name",-1)})),ee={key:0,class:"alert alert-danger"},te={class:"input"},ne=q((function(){return Object(o["f"])("label",{for:"email"},"Mail",-1)})),oe={key:0,class:"alert alert-danger"},re={class:"input"},ae=q((function(){return Object(o["f"])("label",{for:"password"},"Password",-1)})),ce={key:0,class:"alert alert-danger"},se=q((function(){return Object(o["f"])("div",{class:"submit"},[Object(o["f"])("button",{type:"submit"},"Submit")],-1)})),ue=q((function(){return Object(o["f"])("p",{style:{"text-align":"center","padding-top":"10px"}},[Object(o["g"])("Already have an account ? "),Object(o["f"])("a",{href:"/signin"},"Login")],-1)}));function ie(e,t,n,r,a,c){return Object(o["r"])(),Object(o["e"])("div",B,[Object(o["f"])("div",K,[Q,Object(o["f"])("form",{onSubmit:t[3]||(t[3]=Object(o["G"])((function(){return c.onSubmit&&c.onSubmit.apply(c,arguments)}),["prevent"]))},[Object(o["f"])("div",X,[Z,a.errors.name?(Object(o["r"])(),Object(o["e"])("p",ee,Object(o["A"])(a.errors.name),1)):Object(o["d"])("",!0),Object(o["F"])(Object(o["f"])("input",{type:"text",id:"name","onUpdate:modelValue":t[0]||(t[0]=function(e){return a.name=e})},null,512),[[o["C"],a.name]])]),Object(o["f"])("div",te,[ne,a.errors.email?(Object(o["r"])(),Object(o["e"])("p",oe,Object(o["A"])(a.errors.email),1)):Object(o["d"])("",!0),Object(o["F"])(Object(o["f"])("input",{type:"email",id:"email","onUpdate:modelValue":t[1]||(t[1]=function(e){return a.email=e})},null,512),[[o["C"],a.email]])]),Object(o["f"])("div",re,[ae,a.errors.password?(Object(o["r"])(),Object(o["e"])("p",ce,Object(o["A"])(a.errors.password),1)):Object(o["d"])("",!0),Object(o["F"])(Object(o["f"])("input",{type:"password",id:"password","onUpdate:modelValue":t[2]||(t[2]=function(e){return a.password=e})},null,512),[[o["C"],a.password]])]),se],32),ue])])}var le={data:function(){return{name:"",email:"",password:"",errors:{}}},methods:{onSubmit:function(){var e=this,t={name:this.name,email:this.email,password:this.password};console.log(t),p.a.post("/users/register",t).then((function(e){return console.log(e)})).catch((function(t){e.errors=t.response.data,console.log(t.response.data)}))}}};n("413c");const de=l()(le,[["render",ie],["__scopeId","data-v-46221873"]]);var be=de,fe=function(e){return Object(o["u"])("data-v-2869cdcc"),e=e(),Object(o["s"])(),e},pe={id:"signin"},Oe={class:"signin-form"},je=fe((function(){return Object(o["f"])("h1",{style:{"text-align":"center"}},"To-Do App",-1)})),me={class:"input"},ge=fe((function(){return Object(o["f"])("label",{for:"email"},"Email",-1)})),ve={key:0,class:"alert alert-danger"},he={class:"input"},ke=fe((function(){return Object(o["f"])("label",{for:"password"},"Password",-1)})),ye={key:0,class:"alert alert-danger"},we=fe((function(){return Object(o["f"])("div",{class:"submit"},[Object(o["f"])("button",{type:"submit"},"Submit")],-1)})),Te=fe((function(){return Object(o["f"])("p",{style:{"text-align":"center","padding-top":"10px"}},[Object(o["g"])("Don't have an account ? "),Object(o["f"])("a",{href:"/signup"},"Register")],-1)}));function xe(e,t,n,r,a,c){return Object(o["r"])(),Object(o["e"])("div",pe,[Object(o["f"])("div",Oe,[je,Object(o["f"])("form",{onSubmit:t[2]||(t[2]=Object(o["G"])((function(){return c.onSubmit&&c.onSubmit.apply(c,arguments)}),["prevent"]))},[Object(o["f"])("div",me,[ge,a.errors.email?(Object(o["r"])(),Object(o["e"])("p",ve,Object(o["A"])(a.errors.email),1)):Object(o["d"])("",!0),Object(o["F"])(Object(o["f"])("input",{type:"email",id:"email","onUpdate:modelValue":t[0]||(t[0]=function(e){return a.email=e})},null,512),[[o["C"],a.email]])]),Object(o["f"])("div",he,[ke,a.errors.password?(Object(o["r"])(),Object(o["e"])("p",ye,Object(o["A"])(a.errors.password),1)):Object(o["d"])("",!0),Object(o["F"])(Object(o["f"])("input",{type:"password",id:"password","onUpdate:modelValue":t[1]||(t[1]=function(e){return a.password=e})},null,512),[[o["C"],a.password]])]),we],32),Te])])}var Se={data:function(){return{email:"",password:"",user:null,errors:{}}},methods:Object(S["a"])(Object(S["a"])({},Object(O["d"])(["setUser","setToken"])),{},{onSubmit:function(){var e=this;return Object(x["a"])(regeneratorRuntime.mark((function t(){var n,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n={email:e.email,password:e.password},t.prev=1,t.next=4,p.a.post("/users/login",n);case 4:o=t.sent,e.user=o.data.user,localStorage.setItem("token",o.data.token),e.setUser(o.data.user),e.setToken(o.data.token),e.$store.dispatch("autoLogout"),e.$router.push("/"),t.next=17;break;case 13:t.prev=13,t.t0=t["catch"](1),e.errors=t.t0.response.data,console.log(e.errors);case 17:case"end":return t.stop()}}),t,null,[[1,13]])})))()}})};n("5e33");const _e=l()(Se,[["render",xe],["__scopeId","data-v-2869cdcc"]]);var Ae=_e,Ue=[{path:"/landing",component:Y},{path:"/",component:F},{path:"/signup",component:be},{path:"/signin",component:Ae},{path:"/:catchAll(.*)",redirect:"landing"}],Pe=Object(j["a"])({history:Object(j["b"])(),routes:Ue});Pe.beforeEach((function(e,t,n){De.dispatch("fetchToken"),"/"===e.fullPath&&(De.state.token||n("/landing")),"/signin"!==e.fullPath&&"/signup"!==e.fullPath&&"/landing"!==e.fullPath||De.state.token&&n("/"),n()}));var Ce=Pe,Re=n("0e44"),Ie=Object(O["a"])({state:{user:null,token:null,todos:null},plugins:[Object(Re["a"])({paths:["user","token","todos","errors"]})],getters:{getUser:function(e){return e.user},getToken:function(e){return e.token},getTodos:function(e){return e.todos}},mutations:{setUser:function(e,t){e.user=t},setToken:function(e,t){e.token=t},updateToken:function(e,t){e.token=t},setTodos:function(e,t){e.todos=t},logout:function(e){localStorage.removeItem("token"),e.token=null,Ce.push("/signin")}},actions:{setUser:function(e,t){var n=e.commit;n("setUser",t)},setToken:function(e,t){var n=e.commit;n("setToken",t)},fetchToken:function(e){var t=e.commit;t("updateToken",localStorage.getItem("token"))},logout:function(e){var t=e.commit;t("logout")},autoLogout:function(e){var t=e.commit;console.log("auto logout initiated"),setTimeout((function(){console.log("auto logged out"),t("logout")}),12e5)}}}),De=Ie;n("4989");a.a.config(),p.a.defaults.baseURL="/";var $e=Object(o["c"])(b);$e.use(Ce),$e.use(De),$e.mount("#app")},"5e33":function(e,t,n){"use strict";n("3574")},"67c5":function(e,t,n){"use strict";n("3dd3")},"6a8f":function(e,t,n){"use strict";n("7f7c")},"7f7c":function(e,t,n){},8344:function(e,t,n){"use strict";n("89ed")},"89ed":function(e,t,n){},c423:function(e,t,n){"use strict";n("11ca")},f269:function(e,t,n){}});
//# sourceMappingURL=app.588df4e2.js.map